<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>控件 · Video Native</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## 总览"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="控件 · Video Native"/><meta property="og:type" content="website"/><meta property="og:url" content="https://videonative.github.io/VideoNative/"/><meta property="og:description" content="## 总览"/><meta property="og:image" content="https://videonative.github.io/VideoNative/img/video_native.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://videonative.github.io/VideoNative/img/video_native.png"/><link rel="shortcut icon" href="/img/video_native.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://videonative.github.io/VideoNative/blog/atom.xml" title="Video Native Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://videonative.github.io/VideoNative/blog/feed.xml" title="Video Native Blog RSS Feed"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Charm"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/video_native.png" alt="Video Native"/><h2 class="headerTitleWithLogo">Video Native</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/getting-started-basis" target="_self">Getting Started</a></li><li class="siteNavGroupActive siteNavItemActive"><a href="/docs/api-ui-controls" target="_self">API</a></li><li class=""><a href="/docs/playground-index" target="_self">Playground</a></li><li class=""><a href="/docs/version-index" target="_self">Versions</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>API</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">API</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/docs/api-ui-controls">控件</a></li><li class="navListItem"><a class="navItem" href="/docs/api-js-interfaces">JS API</a></li><li class="navListItem"><a class="navItem" href="/docs/api-css">CSS</a></li><li class="navListItem"><a class="navItem" href="/docs/api-usage">用法</a></li><li class="navListItem"><a class="navItem" href="/docs/api-expression">VN 表达式</a></li><li class="navListItem"><a class="navItem" href="/docs/api-custom-component">VN 组件</a></li><li class="navListItem"><a class="navItem" href="/docs/api-native-component">Native 组件</a></li><li class="navListItem"><a class="navItem" href="/docs/api-js-module">JS模块</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">控件</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="总览"></a><a href="#总览" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>总览</h2>
<p>控件属性列表中的类型说明：</p>
<ul>
<li>Property：控件的属性。可以直接写在标签中，也可以写在 vnss 规则集中</li>
<li>Method：控件DOM方法，供JS代码调用</li>
<li>EventHandler：控件的事件。通过将JS方法绑定到组件事件上，可以处理事件回调</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="页面生命周期事件"></a><a href="#页面生命周期事件" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>页面生命周期事件</h2>
<p>页面的生命周期事件通过定义相对应的JS方法来处理。这些方法需要定义在传递给page()方法的参数对象中。具体的页面事件和方法定义如下：</p>
<table>
<thead>
<tr><th>事件 Key</th><th>事件类型</th><th>适用范围</th><th>备注</th><th>参数类型</th></tr>
</thead>
<tbody>
<tr><td>onPageResult(Object params)</td><td>从前一个页面返回</td><td>页面</td><td>前一个页面传递过来的参数，一次生命周期可能会调用多次</td><td>Object/String</td></tr>
<tr><td>onLoad(Object params)</td><td>当前页面启动</td><td>页面</td><td>该页面被拉起时候传递过来的参数，一次生命周期只会调用一次，注意这个时候页面的 js 还没准备好，页面也没渲染好</td><td>Object/String</td></tr>
<tr><td>onReady(Object params)</td><td>当前页面渲染完成</td><td>页面</td><td>该页面被拉起时候传递过来的参数，一次生命周期只会调用一次</td><td>Object/String</td></tr>
<tr><td>onReload(Object params)</td><td>当前页面重新启动</td><td>页面</td><td>当再次打开一个 launchMode 为 singleTask 的页面时，该页面之上的其他页面会被销毁，该页面的 onReload 会被调用，一次生命周期只会调用一次</td><td>Object/String</td></tr>
<tr><td>onShow()</td><td>页面可见（进入前台或从其他页面跳转回来）</td><td>页面</td><td>一次生命周期可能会调用多次</td><td>-</td></tr>
<tr><td>onHide()</td><td>页面不可见（退入后台或跳转到其他页面）</td><td>页面</td><td>一次生命周期可能会调用多次</td><td>-</td></tr>
<tr><td>onUnload()</td><td>当前页面即将销毁</td><td>页面</td><td>一次生命周期只会调用一次</td><td>-</td></tr>
<tr><td>onOrientationChange(Object param)</td><td>当前页面方向改变</td><td>页面</td><td>param.orientation 返回当前页面方向的字符串。可选项：portrait， landscape， reverse-landscape</td><td>String</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="通用事件"></a><a href="#通用事件" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>通用事件</h2>
<p>通用事件是指所有组件都支持的事件</p>
<ul>
<li><strong>事件监听：</strong> <code>bind[Event]</code></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="参数与种类"></a><a href="#参数与种类" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>参数与种类</h3>
<ol>
<li>公共参数：</li>
</ol>
<table>
<thead>
<tr><th>参数名</th><th>备注</th><th>参数类型</th><th>取值范围</th><th>备注</th></tr>
</thead>
<tbody>
<tr><td>type</td><td>事件名称</td><td>String</td><td>-</td><td><em>since 0.4</em>：只返回事件名称，不包含事件阶段。如原先的bindTap，现在改为tap</td></tr>
<tr><td>timestamp</td><td>事件发生时间戳(毫秒)</td><td>Number</td><td>-</td><td>-</td></tr>
<tr><td>target</td><td>事件触发的DOM对象</td><td>Object</td><td>-</td><td>-</td></tr>
<tr><td>dataset</td><td>事件触发的DOM对象数据集</td><td>Object</td><td>-</td><td>-</td></tr>
<tr><td>event</td><td>事件对象</td><td>Object</td><td>-</td><td>存放事件的其它参数</td></tr>
</tbody>
</table>
<ol start="2">
<li>事件种类：</li>
</ol>
<table>
<thead>
<tr><th>名称</th><th>动作</th><th>适用场景</th><th>其它参数</th><th>捕获与冒泡 <em>(since 0.4)</em></th><th>备注</th></tr>
</thead>
<tbody>
<tr><td>Tap</td><td>点击</td><td>除了滑动控件(scroll-view,list,view-pager等)之外的所有控件</td><td>-</td><td>支持</td><td>-</td></tr>
<tr><td>LongPress</td><td>长按</td><td>除了滑动控件(scroll-view,list,view-pager等)之外的所有控件</td><td>-</td><td>支持</td><td>-</td></tr>
<tr><td>TouchStart</td><td>触摸开始</td><td>除了滑动控件(scroll-view,list,view-pager等)之外的所有控件</td><td>event.x: Number (触发事件时的横坐标)<br/>  event.y: Number (触发事件时的纵坐标)</td><td>支持</td><td><em>since 0.4</em>：新增参数event.changedTouches</td></tr>
<tr><td>TouchMove</td><td>触摸移动</td><td>除了滑动控件(scroll-view,list,view-pager等)之外的所有控件</td><td>event.x: Number (触发事件时的横坐标)<br/>  event.y: Number (触发事件时的纵坐标)</td><td>支持</td><td><em>since 0.4</em>：新增参数event.changedTouches</td></tr>
<tr><td>TouchEnd</td><td>触摸结束</td><td>除了滑动控件(scroll-view,list,view-pager等)之外的所有控件</td><td>event.x: Number (触发事件时的横坐标)<br/>  event.y: Number (触发事件时的纵坐标)</td><td>支持</td><td><em>since 0.4</em>：新增参数event.changedTouches</td></tr>
<tr><td>FullscreenChange</td><td>全屏状态变化</td><td>当一个组件进入或退出全屏模式时，会收到该事件回调</td><td>-</td><td>不支持</td><td><em>since 0.4</em></td></tr>
<tr><td>FullscreenError</td><td>进入全屏失败</td><td>当一个组件无法进入全屏模式时，会收到该事件回调</td><td>-</td><td>不支持</td><td><em>since 0.4</em></td></tr>
</tbody>
</table>
<ol start="3">
<li>代码示例：</li>
</ol>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--commonEvent.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">bindTap</span>=<span class="hljs-string">"onTextTap"</span>&gt;</span>可点击文本<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<pre><code class="hljs css language-css"><span class="hljs-comment">/** commonEvent.vnss **/</span>
<span class="hljs-selector-class">.container</span>
{
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">justify-content</span>: center;
}
    
<span class="hljs-selector-tag">text</span> 
{
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100</span>rpx;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">50</span>rpx;
    <span class="hljs-attribute">text-align</span>:center;
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#DDDDDD</span>;
}
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">/**commonEvent.js**/</span>
page ({
    <span class="hljs-attr">onTextTap</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
        <span class="hljs-keyword">var</span> clickStr = <span class="hljs-string">"文本被点击"</span>;
        <span class="hljs-built_in">console</span>.log(clickStr);
    },
    
    <span class="hljs-attr">onReady</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'页面加载完成'</span>)
    }
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="捕获与冒泡-since-04"></a><a href="#捕获与冒泡-since-04" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>捕获与冒泡 <em>(since 0.4)</em></h3>
<ol>
<li>事件阶段</li>
</ol>
<ul>
<li><p><strong>捕获阶段：</strong>  <br>
触发事件后，从页面根标签开始，逐层往下传递该事件（期间可以进行中断），一直到事件触发标签结束（假设期间都没中断的情况）</p></li>
<li><p><strong>冒泡阶段：</strong>  <br>
触发事件后，从事件触发标签开始，逐层往上传递该事件（期间可以进行中断），一直到页面根标签结束（假设期间都没中断的情况）</p></li>
</ul>
<pre><code class="hljs css language-text">注意：
1. 回调顺序：事件捕获 -> 事件监听 -> 事件冒泡。同时，各个阶段独立执行，如果当前阶段没声明监听则跳过，再进入下一阶段
2. 中断调用：事件监听调用中断方法无实际意义，事件捕获、冒泡调用中断方法只会影响当前阶段传递
3. 实际应用：事件监听可用于事件响应，事件捕获可用于事件拦截，事件冒泡可用于事件统计（子标签负责事件处理，父标签负责事件统计）
4. 传递界限：页面和自定义组件都支持事件捕获与冒泡，但事件不能跨越自定义组件
</code></pre>
<ol start="2">
<li>注册监听</li>
</ol>
<ul>
<li><strong>监听捕获：</strong> <code>capture:event</code></li>
<li><strong>监听冒泡：</strong> <code>on:event</code></li>
<li><strong>支持种类：</strong> <code>tap、longpress、touchstart、touchmove、touchend</code></li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--event-capture-bubble.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"d1"</span>
    <span class="hljs-attr">capture:tap</span>=<span class="hljs-string">"captureHandle"</span> 
    <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"bindHandle"</span> 
    <span class="hljs-attr">on:tap</span>=<span class="hljs-string">"bubbleHandle"</span> /&gt;</span>
</code></pre>
<ol start="3">
<li>中断传递</li>
</ol>
<ul>
<li><strong>调用方法：</strong> <code>e.stopPropagation();</code></li>
</ul>
<pre><code class="hljs css language-js">&lt;!--event-capture-bubble.js--&gt;
captureHandle: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (e.currentTarget.getId() === <span class="hljs-string">'d1'</span>) {
        <span class="hljs-comment">//在d1标签时，中断捕获事件传递</span>
        e.stopPropagation();
    }
},
<span class="hljs-attr">bindHandle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-comment">//监听事件方法会正常回调，不受捕获或者冒泡阶段的中断操作影响</span>
    ...
},
<span class="hljs-attr">bubbleHandle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (e.currentTarget.getId() === <span class="hljs-string">'d1'</span>) {
        <span class="hljs-comment">//在d1标签时，中断冒泡事件传递</span>
        e.stopPropagation();
    }
}
</code></pre>
<ol start="4">
<li>其它参数(基于公共参数)</li>
</ol>
<table>
<thead>
<tr><th>参数名称</th><th>参数类型</th><th>参数说明</th><th>取值范围</th><th>备注</th></tr>
</thead>
<tbody>
<tr><td>currentTarget</td><td>Object</td><td>当前的DOM对象</td><td>-</td><td>-</td></tr>
<tr><td>phase</td><td>Number</td><td>事件对象-事件阶段</td><td>0 ~ 3</td><td>0：事件处于响应阶段(bind)<br/>  1：事件处于捕获阶段(capture)<br/>  2：事件到达target结点(capture / on)<br/>  3：事件处于冒泡阶段(on)<br/></td></tr>
<tr><td>event.changedTouches</td><td>Array</td><td>坐标值发生改变的触摸手指</td><td>-</td><td>该参数目前仅限于touchstart、touchmove、touchend事件才会返回，并且只返回单个触摸手指</td></tr>
</tbody>
</table>
<p>changedTouches 数组项对象</p>
<table>
<thead>
<tr><th>参数名称</th><th>参数类型</th><th>参数说明</th><th>取值范围</th><th>备注</th></tr>
</thead>
<tbody>
<tr><td>identifier</td><td>Number</td><td>触摸手指编号</td><td>0</td><td>目前只返回单个触摸手指</td></tr>
<tr><td>currentX</td><td>Number</td><td>触摸点相对于当前标签的横坐标</td><td>-</td><td>-</td></tr>
<tr><td>currentY</td><td>Number</td><td>触摸点相对于当前标签的纵坐标</td><td>-</td><td>-</td></tr>
<tr><td>screenX</td><td>Number</td><td>触摸点相对于屏幕的横坐标</td><td>-</td><td>-</td></tr>
<tr><td>screenY</td><td>Number</td><td>触摸点相对于屏幕的纵坐标</td><td>-</td><td>-</td></tr>
</tbody>
</table>
<ol start="5">
<li>代码示例</li>
</ol>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--event-capture-bubble.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"d1"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"d1"</span>
    <span class="hljs-attr">capture:tap</span>=<span class="hljs-string">"captureHandle"</span> 
    <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"bindHandle"</span> 
    <span class="hljs-attr">on:tap</span>=<span class="hljs-string">"bubbleHandle"</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"d2"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"d2"</span>
        <span class="hljs-attr">capture:tap</span>=<span class="hljs-string">"captureHandle"</span> 
        <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"bindHandle"</span> 
        <span class="hljs-attr">on:tap</span>=<span class="hljs-string">"bubbleHandle"</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"d3"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"d3"</span>
            <span class="hljs-attr">capture:tap</span>=<span class="hljs-string">"captureHandle"</span> 
            <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"bindHandle"</span> 
            <span class="hljs-attr">on:tap</span>=<span class="hljs-string">"bubbleHandle"</span>/&gt;</span>
        
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<pre><code class="hljs css language-css">&lt;!<span class="hljs-selector-tag">--event-capture-bubble</span><span class="hljs-selector-class">.css--</span>&gt;
<span class="hljs-selector-class">.d1</span> {
   <span class="hljs-attribute">width</span>: <span class="hljs-number">300</span>rpx;
   <span class="hljs-attribute">height</span>: <span class="hljs-number">300</span>rpx;
   <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#7a1b9b</span>;
   <span class="hljs-attribute">flex-direction</span>:column;
   <span class="hljs-attribute">justify-content</span>:flex-start;
   <span class="hljs-attribute">align-items</span>:flex-start;
}

<span class="hljs-selector-class">.d2</span> {
   <span class="hljs-attribute">width</span>: <span class="hljs-number">200</span>rpx;
   <span class="hljs-attribute">height</span>: <span class="hljs-number">200</span>rpx;
   <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#9b7a1b</span>;
   <span class="hljs-attribute">flex-direction</span>:column;
   <span class="hljs-attribute">justify-content</span>:flex-start;
   <span class="hljs-attribute">align-items</span>:flex-start;
}

<span class="hljs-selector-class">.d3</span> {
   <span class="hljs-attribute">width</span>: <span class="hljs-number">100</span>rpx;
   <span class="hljs-attribute">height</span>: <span class="hljs-number">100</span>rpx;
   <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#7a9b1b</span>;
   <span class="hljs-attribute">flex-direction</span>:column;
   <span class="hljs-attribute">justify-content</span>:flex-start;
   <span class="hljs-attribute">align-items</span>:flex-start;
}
</code></pre>
<pre><code class="hljs css language-js">&lt;!--event-capture-bubble.js--&gt;
captureHandle: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (e.currentTarget.getId() === <span class="hljs-string">'d2'</span>) {
        <span class="hljs-comment">//在d2标签时，中断捕获事件传递</span>
        e.stopPropagation();
    }
},
<span class="hljs-attr">bindHandle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-comment">//监听事件方法会正常回调，不受捕获或者冒泡阶段的中断操作影响</span>
    ...
},
<span class="hljs-attr">bubbleHandle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (e.currentTarget.getId() === <span class="hljs-string">'d3'</span>) {
        <span class="hljs-comment">//在d3标签时，中断冒泡事件传递</span>
        e.stopPropagation();
    }
}
</code></pre>
<p>点击视图区域后的回调情况：</p>
<pre><code class="hljs">点击<span class="hljs-built_in">d1</span>区域：  
捕获阶段：<span class="hljs-built_in">d1</span>  
事件监听：<span class="hljs-built_in">d1</span>  
冒泡阶段：<span class="hljs-built_in">d1</span>

点击<span class="hljs-built_in">d2</span>区域：  
捕获阶段：<span class="hljs-built_in">d1</span> -&gt; <span class="hljs-built_in">d2</span>  
事件监听：<span class="hljs-built_in">d2</span>  
冒泡阶段：<span class="hljs-built_in">d2</span> -&gt; <span class="hljs-built_in">d1</span>

点击<span class="hljs-built_in">d3</span>区域：  
捕获阶段：<span class="hljs-built_in">d1</span> -&gt; <span class="hljs-built_in">d2</span>  
事件监听：<span class="hljs-built_in">d3</span>  
冒泡阶段：<span class="hljs-built_in">d3</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="通用属性"></a><a href="#通用属性" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>通用属性</h2>
<p>通用属性是指所有的组件都支持的属性。</p>
<ul>
<li>代码示例如下：</li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--commonAttribute.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"mainContainer"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"75rpx"</span> <span class="hljs-attr">margin</span>=<span class="hljs-string">"5rpx"</span> <span class="hljs-attr">background-color</span>=<span class="hljs-string">"#FFFFFFFF"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"75rpx"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"75px"</span> <span class="hljs-attr">padding</span>=<span class="hljs-string">"3rpx"</span>&gt;</span>
         通用属性
      <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<table>
<thead>
<tr><th>通用属性名</th><th>类型</th><th>默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>class</td><td>String</td><td></td><td>引用 vnss 中的样式类；多个样式可用空格分隔</td></tr>
<tr><td>id</td><td>String</td><td></td><td>用于 CSS 匹配和 getElementById()</td></tr>
<tr><td>width</td><td>[rpx pt percent auto]</td><td>auto</td></tr>
<tr><td>height</td><td>[rpx pt percent auto]</td><td>auto</td></tr>
<tr><td>aspect-ratio</td><td>Float</td><td></td><td>宽高比</td></tr>
<tr><td>background-stretch-param</td><td>[整数的组合]</td><td></td><td>本属性需配合 background 属性一起使用才有效。输入格式有两种；第一种，对一个坐标点进行拉伸，格式为：top left，例：25 15 (对背景图片坐标点(15,25)进行拉伸)。第二种，对一个区域进行拉伸，格式：top lengthY left lengthX，例：25 10 22 15 (将对背景图片的纵坐标25位置到35位置进行拉伸，对横坐标22位置到37位置进行拉伸)。注：只能填写0和正整数，不带单位；含义是1倍图的像素坐标和长度。</td></tr>
<tr><td>background-color</td><td>color</td><td>#FFFFFFFF</td><td>取值格式为#RGB，#RRGGBB #RRGGBBAA，RRGGBBAA，如果同时设置了background，background的优先级更高</td></tr>
<tr><td>background</td><td>String</td><td></td><td>1.不拉伸的图片如: ../image/btn_bg</td></tr>
<tr><td>alpha</td><td>Float</td><td>1</td><td>0:透明 到 1:不透明</td></tr>
<tr><td>padding</td><td>[rpx pt % 组合]</td><td>0rpx</td><td>参见 CSS 标准写法</td></tr>
<tr><td>padding-left</td><td>[rpx pt %]</td><td></td><td>共存时覆盖 padding 的值</td></tr>
<tr><td>padding-right</td><td>[rpx pt %]</td><td></td><td>共存时覆盖 padding 的值</td></tr>
<tr><td>padding-top</td><td>[rpx pt %]</td><td></td><td>共存时覆盖 padding 的值</td></tr>
<tr><td>padding-bottom</td><td>[rpx pt percent]</td><td></td><td>共存时覆盖 padding 的值</td></tr>
<tr><td>margin</td><td>[rpx pt % 组合]</td><td>0rpx</td><td>参见 CSS 标准写法</td></tr>
<tr><td>margin-left</td><td>[rpx pt %]</td><td></td><td>共存时覆盖 margin 的值</td></tr>
<tr><td>margin-right</td><td>[rpx pt %]</td><td></td><td>共存时覆盖 margin 的值</td></tr>
<tr><td>margin-top</td><td>[rpx pt %]</td><td></td><td>共存时覆盖 margin 的值</td></tr>
<tr><td>margin-bottom</td><td>[rpx pt %]</td><td></td><td>共存时覆盖 margin 的值</td></tr>
<tr><td>max-height</td><td>[rpx pt %]</td><td></td></tr>
<tr><td>max-width</td><td>[rpx pt %]</td><td></td></tr>
<tr><td>min-height</td><td>[rpx pt %]</td><td></td></tr>
<tr><td>min-width</td><td>[rpx pt %]</td><td></td></tr>
<tr><td>hidden</td><td>Boolean</td><td>false</td><td>是否隐藏</td></tr>
<tr><td>enable</td><td>Boolean</td><td>true</td><td>是否启用，为 false 时不接收点击事件</td></tr>
<tr><td>overflow</td><td>[visible hidden]</td><td>hidden</td><td>当内容溢出元素框时发生的事情，visible 表示溢出的内容不会被裁剪，hidden 表示溢出的内容会被裁剪，visible 必须配合 flex-shrink=0 使用</td></tr>
<tr><td>border-color</td><td>color</td><td>#00000000</td><td>设置四条边框的颜色。目前除了 View 标签能支持4个边框设置不同的值，其他标签只支持4个边框设置相同的值</td></tr>
<tr><td>border-width</td><td>rpx pt</td><td>0rpx</td><td>设置边框的宽度。目前除了 View 标签能支持4个边框设置不同的值，其他标签只支持4个边框设置相同的值</td></tr>
<tr><td>border-radius</td><td>rpx pt</td><td>0rpx</td><td>设置边框的圆角属性。目前除了 View 标签能支持4个角设置不同的值，其他标签只支持4个角设置相同的值</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="flexbox-布局属性"></a><a href="#flexbox-布局属性" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flexbox 布局属性</h2>
<p>Flexbox 布局属性用于页面排版布局，它分为容器节点相关的属性和子节点相关的属性。容器属性和子节点属性相互影响，配合生效。
关于 Flexbox 属性的详细定义，请参见: <a href="https://yogalayout.com/docs">YogaLayout</a></p>
<ul>
<li>代码示例如下：</li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--Flexbox.vnml--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">flex-direction</span>=<span class="hljs-string">"row"</span> <span class="hljs-attr">align-items</span>=<span class="hljs-string">"center"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"200rpx"</span> <span class="hljs-attr">aspect-ratio</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://videonative.io/video-native.png"</span> <span class="hljs-attr">position</span>=<span class="hljs-string">"relative"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"200rpx"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">flex-grow</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"30rpx"</span> <span class="hljs-attr">background-color</span>=<span class="hljs-string">"gray"</span>&gt;</span>
        FlexBox
    <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="flex-容器节点的属性"></a><a href="#flex-容器节点的属性" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flex 容器节点的属性</h4>
<p>这些属性只对容器节点有效(view/list/scroll-view/view-pager)</p>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>Property</td><td>align-content</td><td>Enum</td><td>stretch</td></tr>
<tr><td>Property</td><td>align-items</td><td>Enum</td><td>stretch</td></tr>
<tr><td>Property</td><td>flex-direction</td><td>Enum</td><td>row</td><td>弹性布局的方向</td></tr>
<tr><td>Property</td><td>flex-wrap</td><td>Enum</td><td>no-wrap</td><td>折行属性</td></tr>
<tr><td>Property</td><td>justify-content</td><td>Enum</td><td>flex-start</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="flex-子节点的属性"></a><a href="#flex-子节点的属性" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flex 子节点的属性</h4>
<p>这些属性可配置于所有标签，但仅当其有父容器时才生效</p>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>Property</td><td>align-self</td><td>Enum</td><td>auto</td></tr>
<tr><td>Property</td><td>flex-basis</td><td>[Enum %]</td><td>auto</td></tr>
<tr><td>Property</td><td>flex-grow</td><td>Float</td><td>0</td><td>拉伸因子</td></tr>
<tr><td>Property</td><td>flex-shrink</td><td>Float</td><td>1</td><td>收缩规则</td></tr>
<tr><td>Property</td><td>position</td><td>Enum</td><td>relative</td><td>relative/absolute</td></tr>
<tr><td>Property</td><td>left</td><td>[rpx pt px %]</td><td>0rpx</td><td>left属性影响元素的水平位置</td></tr>
<tr><td>Property</td><td>right</td><td>[rpx pt px %]</td><td>0rpx</td><td>right属性影响元素的水平位置</td></tr>
<tr><td>Property</td><td>top</td><td>[rpx pt px %]</td><td>0rpx</td><td>top属性影响元素的竖直位置</td></tr>
<tr><td>Property</td><td>bottom</td><td>[rpx pt px %]</td><td>0rpx</td><td>bottom属性影响元素的竖直位置</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="view"></a><a href="#view" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>view</h2>
<p>view是简单的容器类。它支持设置 border 和 shadow。</p>
<ul>
<li>代码示例如下：</li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--view.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"85.4rpx"</span> <span class="hljs-attr">align-items</span>=<span class="hljs-string">"center"</span> <span class="hljs-attr">justify-content</span>=<span class="hljs-string">"space-between"</span> <span class="hljs-attr">flex-direction</span>=<span class="hljs-string">"row"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"200rpx"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">flex-grow</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"30rpx"</span> <span class="hljs-attr">background-color</span>=<span class="hljs-string">"gray"</span>&gt;</span>
        View Example
    <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>Property</td><td>box-shadow</td><td>h-shadow v-shadow blur spread color inset</td><td></td><td>添加一个阴影。每个阴影由 2-4 个长度值、可选的颜色值以及可选的 inset 关键词来规定。省略的长度值为0。默认为 outset</td></tr>
<tr><td>Property</td><td>border-color</td><td>color</td><td>transparent（透明）</td><td>设置四条边框的颜色。此属性可设置 1 到 4 种颜色。</td></tr>
<tr><td>Property</td><td>border-style</td><td>Enum</td><td>none</td><td>用于设置元素所有边框的样式，或者单独地为各边设置边框样式。此属性可设置 1 到 4 个值。</td></tr>
<tr><td>Property</td><td>border-width</td><td>rpx pt</td><td>0rpx</td><td>为元素的所有边框设置宽度，或者单独地为各边边框设置宽度。可设置 1 到 4 个值</td></tr>
<tr><td>Property</td><td>border-radius</td><td>rpx pt</td><td>0rpx</td><td>设置边框的圆角属性。可设置 1 到 4 个值（topLeft, topRight, bottomRight, bottomLeft）</td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="box-shadow-的详细说明"></a><a href="#box-shadow-的详细说明" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>box-shadow 的详细说明</h3>
<p>参照 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/box-shadow">box-shadow 的 W3C标准</a></p>
<p>在 iOS 上，阴影和圆角不能并存。可改用多套一个 View 来实现阴影+圆角的效果</p>
<table>
<thead>
<tr><th>值</th><th>类型</th><th>描述</th></tr>
</thead>
<tbody>
<tr><td>h-shadow</td><td>rpx pt</td><td>必需。水平阴影的位置。允许负值</td></tr>
<tr><td>v-shadow</td><td>rpx pt</td><td>必需。垂直阴影的位置。允许负值</td></tr>
<tr><td>blur</td><td>rpx pt</td><td>可选。模糊距离，不允许负值</td></tr>
<tr><td>spread</td><td>rpx pt</td><td>可选。阴影的尺寸，允许负值</td></tr>
<tr><td>color</td><td>color</td><td>可选。阴影的颜色。请参阅 CSS 颜色值，默认为黑色</td></tr>
<tr><td>inset</td><td></td><td>可选。将外部阴影 (outset) 改为内部阴影，默认为 outset</td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="border-color-的详细说明"></a><a href="#border-color-的详细说明" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>border-color 的详细说明</h3>
<p>color 的语法如下：</p>
<ul>
<li>transparent：默认值，透明色</li>
<li>颜色名：red、green</li>
<li><code>#hex：#rgb #rrggbb #rrggbbaa</code></li>
<li>inherit:  从父元素继承边框颜色</li>
</ul>
<p>代码示例如下：</p>
<pre><code class="hljs css language-css">border-color:red green blue pink;   // 上  右  下  左

border-color:red green blue;        // 上  右&amp;左  下

border-color:red green;             // 上&amp;下  右&amp;左

border-color:red;                   // 四边
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="border-style-的详细说明"></a><a href="#border-style-的详细说明" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>border-style 的详细说明</h3>
<table>
<thead>
<tr><th>值</th><th>描述</th></tr>
</thead>
<tbody>
<tr><td>none</td><td>定义无边框</td></tr>
<tr><td>hidden</td><td>与 &quot;none&quot; 相同</td></tr>
<tr><td>dotted</td><td>定义点状边框</td></tr>
<tr><td>dashed</td><td>定义虚线</td></tr>
<tr><td>solid</td><td>定义实线</td></tr>
</tbody>
</table>
<p>代码示例如下：</p>
<pre><code class="hljs css language-css">border-style: hidden dotted dashed solid;   // 上无 右点 下虚 左实
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="border-width-border-color-border-style-的说明"></a><a href="#border-width-border-color-border-style-的说明" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>border-width &amp; border-color &amp; border-style 的说明</h3>
<p>以下这些属性用于对具体方向的边框指定指定颜色、样式、宽度，只可设置1个值</p>
<pre><code class="hljs css language-css"><span class="hljs-selector-tag">border-bottom-color</span>
<span class="hljs-selector-tag">border-bottom-style</span>
<span class="hljs-selector-tag">border-bottom-width</span>
<span class="hljs-selector-tag">border-left-color</span>
<span class="hljs-selector-tag">border-left-style</span>
<span class="hljs-selector-tag">border-left-width</span>
<span class="hljs-selector-tag">border-right-color</span>
<span class="hljs-selector-tag">border-right-style</span>
<span class="hljs-selector-tag">border-right-width</span>
<span class="hljs-selector-tag">border-top-color</span>
<span class="hljs-selector-tag">border-top-style</span>
<span class="hljs-selector-tag">border-top-width</span>
</code></pre>
<p>代码示例如下：</p>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--border.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100%"</span>&gt;</span>    
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">margin</span>=<span class="hljs-string">"25rpx"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"700rpx"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"300rpx"</span> <span class="hljs-attr">background-color</span>=<span class="hljs-string">"white"</span> <span class="hljs-attr">box-shadow</span>=<span class="hljs-string">"0rpx 0rpx 5rpx 10rpx #0000FF"</span> <span class="hljs-attr">border-radius</span>=<span class="hljs-string">"10rpx"</span> <span class="hljs-attr">border-color</span>=<span class="hljs-string">"green"</span> <span class="hljs-attr">border-width</span>=<span class="hljs-string">"10rpx"</span> <span class="hljs-attr">border-style</span>=<span class="hljs-string">"solid"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="text"></a><a href="#text" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>text</h2>
<p>text是基本的文本展示控件</p>
<ul>
<li>代码示例如下：</li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--text.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">flex-direction</span>=<span class="hljs-string">"row"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"30rpx"</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"#000000FF"</span> <span class="hljs-attr">font-style</span>=<span class="hljs-string">"bold"</span>&gt;</span>精彩瞬间<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">html-text</span>=<span class="hljs-string">"true"</span>&gt;</span>{{title}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<pre><code class="hljs css language-json">  {
      <span class="hljs-attr">"title"</span>:<span class="hljs-string">"&lt;font color='#FF00FFFF'&gt;我是&lt;/font&gt;带颜色&lt;font color='#00FFFFFF'&gt;的文本&lt;/font&gt;"</span>
  }
</code></pre>
<blockquote>
<p>注意 html 文本如果直接写在 &lt;text&gt; 标签里，会解析不出来，这里推荐使用胡子语法</p>
</blockquote>
<p>推荐</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">html-text</span>=<span class="hljs-string">"true"</span>&gt;</span>{{title}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
</code></pre>
<p>不推荐</p>
<pre><code class="hljs css language-html"> <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">html-text</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">font</span> <span class="hljs-attr">color</span>=<span class="hljs-string">'#FF00FFFF'</span>&gt;</span>我是<span class="hljs-tag">&lt;/<span class="hljs-name">font</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
</code></pre>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>Property</td><td>font-size</td><td>rpx pt</td><td>手机系统默认</td><td>字体尺寸</td></tr>
<tr><td>Property</td><td>font-style</td><td>Enum</td><td>normal</td><td>normal/bold/italic/bold_italic</td></tr>
<tr><td>Property</td><td>font-family</td><td>String</td><td>系统默认</td><td>字体集</td></tr>
<tr><td>Property</td><td>color</td><td>color</td><td>#000000FF</td></tr>
<tr><td>Property</td><td>text-align</td><td>Enum</td><td>left</td><td>left/right/center</td></tr>
<tr><td>Property</td><td>ellipsize</td><td>Enum</td><td>none</td><td>none;start;middle;end。注：max-lines属性的值会影响到本属性。</td></tr>
<tr><td>Property</td><td>max-lines</td><td>Integer</td><td>0</td><td>0代表不限行数。注：1、当不限行数时，ellipsize无法生效；2、当max-lines大于1时，ellipsize在Android平台上只有end生效</td></tr>
<tr><td>Property</td><td>line-height</td><td>Float</td><td>1.0</td><td>1.0代表一倍行间距，最小有效值为 1.0</td></tr>
<tr><td>Property</td><td>html-text</td><td>Boolean</td><td>false</td><td>是否解析html标签。目前只支持如下标签和属性：&lt;font color=&quot;#A0A0A0&quot;&gt;、&lt;b&gt;、&lt;i&gt;</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="button"></a><a href="#button" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>button</h2>
<p>button是点击交互控件。button有默认的系统UI，以及点击时有系统默认的视觉效果。button的默认文本对齐方式为center。</p>
<ul>
<li>代码示例如下：</li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--button.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">flex-direction</span>=<span class="hljs-string">"row"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"30rpx"</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"#000000FF"</span> <span class="hljs-attr">font-style</span>=<span class="hljs-string">"bold"</span>&gt;</span>点击我<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>Property</td><td>font-size</td><td>rpx pt</td><td>手机系统默认</td><td>文本 size，只能是整型</td></tr>
<tr><td>Property</td><td>font-style</td><td>Enum</td><td>normal</td><td>normal/bold/italic/bold_italic</td></tr>
<tr><td>Property</td><td>font-family</td><td>String</td><td>系统默认</td><td>字体集</td></tr>
<tr><td>Property</td><td>color</td><td>color</td><td>#000000FF</td></tr>
<tr><td>Property</td><td>text-align</td><td>Enum</td><td>center</td><td>left/right/center</td></tr>
<tr><td>Property</td><td>ellipsize</td><td>Enum</td><td>none</td><td>none;start;middle;end。注：max-lines属性的值会影响到本属性。</td></tr>
<tr><td>Property</td><td>max-lines</td><td>Integer</td><td>0</td><td>0代表不限行数。注：1、当不限行数时，ellipsize无法生效；2、当max-lines大于1时，ellipsize在Android平台上只有end生效</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="image"></a><a href="#image" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>image</h2>
<p>image用于显示图片。支持网络和本地图片。</p>
<ul>
<li>代码示例如下：</li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--image.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">aspect-ratio</span>=<span class="hljs-string">"1.78"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"http://videonative.io/img/video-native.png"</span> <span class="hljs-attr">border-radius</span>=<span class="hljs-string">"30rpx"</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"center-crop"</span>/&gt;</span>
</code></pre>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>Property</td><td>src</td><td>String</td><td></td><td>图片资源地址</td></tr>
<tr><td>Property</td><td>placeholder</td><td>String</td><td></td><td>默认占位图片资源地址</td></tr>
<tr><td>Property</td><td>mode</td><td>Enum</td><td>fit-xy</td><td>focus-crop/center-crop/center-inside/center/fit-center/fit-xy</td></tr>
<tr><td>Property</td><td>foucs-point-x</td><td>Float(0~1)</td><td>0.5</td><td>重心裁剪功能，仅在 mode 为 focus-crop 时生效</td></tr>
<tr><td>Property</td><td>foucs-point-y</td><td>Float(0~1)</td><td>0.5</td><td>重心裁剪功能，仅在 mode 为 focus-crop 时生效</td></tr>
<tr><td>Property</td><td>shape</td><td>Enum</td><td>normal</td><td>normal/circle</td></tr>
<tr><td>Property</td><td>filter</td><td></td><td></td><td>滤镜参数，目前只支持: blur; 注：1、不支持动图模糊；2、超过25px会导致渲染性能下降可能导致卡顿。例子：filter=&quot;blur(1px)&quot; <em>(since 0.5)</em></td></tr>
<tr><td>EventHandler</td><td>bindload</td><td>function(Object params)</td><td></td><td>当src指定的图片被显示时触发这个事件。图片的宽、高通过事件参数返回：params.event = {width: 50.3, height:30.02 }，单位为rpx。</td></tr>
<tr><td>EventHandler</td><td>binderror</td><td>function(Object params)</td><td></td><td>当src指定的图片加载失败时触发这个事件。无event属性。</td></tr>
</tbody>
</table>
<p>其中 mode 的有效值为</p>
<table>
<thead>
<tr><th>模式</th><th>值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>缩放</td><td>fit-xy</td><td>不保持纵横比缩放图片，使图片的宽高完全拉伸至填满 image 元素</td></tr>
<tr><td>缩放</td><td>fit-center</td><td>保持纵横比缩放图片，使图片的长边能完全显示出来，居中显示。小图会放大，大图会缩小</td></tr>
<tr><td>缩放</td><td>center</td><td>不缩放图片，只显示图片的中间区域</td></tr>
<tr><td>缩放</td><td>center-inside</td><td>保持纵横比缩放图片，保证图片的长边能完全居中 显示出来。小图不放大，大图会缩小</td></tr>
<tr><td>裁剪</td><td>center-crop</td><td>保持纵横比缩放图片，只保证图片的短边能完全显示出来。图片通常只短边方向是完整的，另一个方向将会发生截取</td></tr>
<tr><td>裁剪</td><td>focus-crop</td><td>重心裁剪，具体裁剪位置由 focus-point-x 和 focus-point-y 决定</td></tr>
</tbody>
</table>
<p>注意，本标签不支持 padding 属性</p>
<h2><a class="anchor" aria-hidden="true" id="checkbox"></a><a href="#checkbox" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>checkbox</h2>
<p>这个控件可以显示两种状态，checked 和 unchecked，不同的状态显示不同的图片。本控件自身不存储状态，所以它的 checked 属性必须通过胡子语句绑定到一个boolean型的数据上才能正常工作。当通过点击改变了控件状态时，胡子语句绑定的数据也会发生改变。</p>
<ul>
<li>代码示例如下：</li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--checkbox.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">checkbox</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"92rpx"</span> <span class="hljs-attr">aspect-ratio</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">"{{selected}}"</span> <span class="hljs-attr">checked-src</span>=<span class="hljs-string">"{{check}}"</span> <span class="hljs-attr">unchecked-src</span>=<span class="hljs-string">"{{uncheck}}"</span> <span class="hljs-attr">bindchange</span>=<span class="hljs-string">"onCheckChange"</span>/&gt;</span>
</code></pre>
<pre><code class="hljs css language-json">{
    <span class="hljs-attr">"check"</span>: <span class="hljs-string">"http://videonative.io/img/checkbox_yes.png"</span>,
    <span class="hljs-attr">"uncheck"</span>: <span class="hljs-string">"http://videonative.io/img/checkbox_no.png"</span>,
    <span class="hljs-attr">"selected"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"position"</span>: <span class="hljs-number">10</span>
}
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">/**checkbox.js**/</span>
page ({
    <span class="hljs-attr">onCheckChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"checkbox 发生状态切换"</span>);
    }
});
</code></pre>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>Property</td><td>checked</td><td>胡子语句</td><td></td><td>必填项，绑定 data 里的一个布尔值</td></tr>
<tr><td>Property</td><td>checked-src</td><td>String</td><td></td><td>选中状态图片的url</td></tr>
<tr><td>Property</td><td>unchecked-src</td><td>String</td><td></td><td>未选中状态图片的url</td></tr>
<tr><td>EventHandler</td><td>bindChange</td><td>Function</td><td></td><td>checkbox 状态切换事件回调</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="input"></a><a href="#input" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>input</h2>
<p>这是一个单行文本输入控件。</p>
<ul>
<li>代码示例如下：</li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--input.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">flex-direction</span>=<span class="hljs-string">"column"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">margin</span>=<span class="hljs-string">"10rpx"</span> <span class="hljs-attr">padding</span>=<span class="hljs-string">"5rpx"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"30rpx"</span>&gt;</span>你输入的是：{{inputValue}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">margin</span>=<span class="hljs-string">"10rpx"</span> <span class="hljs-attr">padding</span>=<span class="hljs-string">"5rpx"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"30rpx"</span>&gt;</span>状态：{{focusState}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">margin</span>=<span class="hljs-string">"10rpx"</span> <span class="hljs-attr">padding</span>=<span class="hljs-string">"5rpx"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"30rpx"</span>&gt;</span>确认次数：{{confirmCount}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"eventText"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"响应事件"</span> <span class="hljs-attr">confirm-type</span>=<span class="hljs-string">"done"</span> <span class="hljs-attr">margin</span>=<span class="hljs-string">"10rpx"</span> <span class="hljs-attr">padding</span>=<span class="hljs-string">"5rpx"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"30rpx"</span> <span class="hljs-attr">bindInput</span>=<span class="hljs-string">"onInput"</span> <span class="hljs-attr">bindFocus</span>=<span class="hljs-string">"onFocus"</span> <span class="hljs-attr">bindBlur</span>=<span class="hljs-string">"onBlur"</span> <span class="hljs-attr">bindConfirm</span>=<span class="hljs-string">"onConfirm"</span> <span class="hljs-attr">border-width</span>=<span class="hljs-string">"1rpx"</span> <span class="hljs-attr">border-style</span>=<span class="hljs-string">"solid"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">input</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"focusState"</span>: <span class="hljs-string">"未获取焦点"</span>,
  <span class="hljs-attr">"textCount"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">"confirmCount"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">"inputValue"</span>: <span class="hljs-string">""</span>
}
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">/**input.js**/</span>
<span class="hljs-keyword">var</span> eventinput;

page({
  <span class="hljs-attr">onReady</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    eventinput = vn.dom.getElementById(<span class="hljs-string">'eventText'</span>);
  },
  <span class="hljs-attr">onInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
    <span class="hljs-keyword">var</span> text = params.event.value;
    vn.data.update(<span class="hljs-string">'inputValue'</span>, text);
  },
  <span class="hljs-attr">onFocus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
    vn.data.update(<span class="hljs-string">'focusState'</span>, <span class="hljs-string">'获取焦点'</span>);
  },
  <span class="hljs-attr">onBlur</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
    vn.data.update(<span class="hljs-string">'focusState'</span>, <span class="hljs-string">'未获取焦点'</span>);
  },
  <span class="hljs-attr">onConfirm</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
    confirmCount = vn.data.query(<span class="hljs-string">'confirmCount'</span>);
    confirmCount += <span class="hljs-number">1</span>;
    vn.data.update(<span class="hljs-string">'confirmCount'</span>, confirmCount);
  }
});
</code></pre>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>Property</td><td>font-size</td><td>rpx pt</td><td>手机系统默认</td><td>文本 size，只能是整型</td></tr>
<tr><td>Property</td><td>font-style</td><td>Enum</td><td>normal</td><td>normal/bold/italic/bold_italic</td></tr>
<tr><td>Property</td><td>font-family</td><td>String</td><td>系统默认</td><td>字体集</td></tr>
<tr><td>Property</td><td>color</td><td>color</td><td>#000000FF</td><td>取值格式为#RGBA</td></tr>
<tr><td>Property</td><td>text-align</td><td>Enum(可组合)</td><td>left</td><td>left/right/center</td></tr>
<tr><td>Property</td><td>input-type</td><td>Enum</td><td>text</td><td>text(文字)/number(整数)/digit(小数)</td></tr>
<tr><td>Property</td><td>confirm-type</td><td>Enum</td><td>done</td><td>send(发送)/search(搜索)/next(下一个)/go(去)/done(完成)</td></tr>
<tr><td>Property</td><td>password</td><td>Boolean</td><td>false</td><td>是否为密码输入</td></tr>
<tr><td>Property</td><td>placeholder</td><td>String</td><td></td><td>当没有文字输入时的提示文案</td></tr>
<tr><td>Property</td><td>placeholder-color</td><td>color</td><td>#888888FF</td><td>取值格式为#RGBA</td></tr>
<tr><td>EventHandler</td><td>bindinput</td><td>String function(Object params)</td><td></td><td>当键盘输入时，触发input事件，params.event = {value: &quot;文本&quot;, cursor: 1}，处理函数可以直接 return 一个字符串，将替换输入框的内容。value 为事件发生时文本框的内容，cursor为光标所在的位置</td></tr>
<tr><td>EventHandler</td><td>bindconfirm</td><td>Boolean function(Object params)</td><td></td><td>点击完成按钮时触发，params.event.value 为事件发生时文本框的内容，返回 true 表示按下完成按钮时不收起键盘，返回 false 表示收起键盘，默认为 false。注，在安卓上可能受到其他特性的影响导致键盘不收起，比如当指定 confirmType 为 Next 时，会聚焦到下一个输入框，此时键盘没有收起。</td></tr>
<tr><td>EventHandler</td><td>bindfocus</td><td>function(Object params)</td><td></td><td>输入框得到输入焦点时触发，params.event.value 为事件发生时文本框的内容</td></tr>
<tr><td>EventHandler</td><td>bindblur</td><td>function(Object params)</td><td></td><td>输入框失去焦点时触发，params.event.value 为事件发生时文本框的内容</td></tr>
<tr><td>Method</td><td>Integer getCursorStart()</td><td></td><td></td><td>当前输入框的光标开始位置</td></tr>
<tr><td>Method</td><td>Integer getCursorEnd()</td><td></td><td></td><td>当前输入框的光标结束位置</td></tr>
<tr><td>Method</td><td>String getValue()</td><td></td><td></td><td>当前输入框的文本</td></tr>
<tr><td>Method</td><td>void setValue(String value)</td><td></td><td></td><td>设置当前输入框的文本</td></tr>
<tr><td>Method</td><td>Boolean hasFocus()</td><td></td><td></td><td>当前输入框是否获取了焦点</td></tr>
<tr><td>Method</td><td>void setCursorRange(Integer start, Integer end)</td><td></td><td></td><td>设置当前输入框光标起始和结束位置</td></tr>
<tr><td>Method</td><td>void setCursorStart(Integer start)</td><td></td><td></td><td>设置当前输入框光标起始位置</td></tr>
<tr><td>Method</td><td>void setFocus(Boolean focus)</td><td></td><td></td><td>设置当前输入框的焦点属性</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="textarea"></a><a href="#textarea" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>textarea</h2>
<p>这是一个多行文本输入控件。</p>
<ul>
<li>代码示例如下：</li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--textarea.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">flex-direction</span>=<span class="hljs-string">"column"</span>&gt;</span>   
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">margin</span>=<span class="hljs-string">"10rpx"</span> <span class="hljs-attr">padding</span>=<span class="hljs-string">"5rpx"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"30rpx"</span>&gt;</span>你输入的是：{{inputValue}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">margin</span>=<span class="hljs-string">"10rpx"</span> <span class="hljs-attr">padding</span>=<span class="hljs-string">"5rpx"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"30rpx"</span>&gt;</span>状态：{{focusState}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">margin</span>=<span class="hljs-string">"10rpx"</span> <span class="hljs-attr">padding</span>=<span class="hljs-string">"5rpx"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"30rpx"</span>&gt;</span>确认次数：{{confirmCount}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"eventText"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"响应事件"</span> <span class="hljs-attr">confirm-type</span>=<span class="hljs-string">"done"</span> <span class="hljs-attr">margin</span>=<span class="hljs-string">"10rpx"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"auto"</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"30rpx"</span> <span class="hljs-attr">bindInput</span>=<span class="hljs-string">"onInput"</span> <span class="hljs-attr">bindFocus</span>=<span class="hljs-string">"onFocus"</span> <span class="hljs-attr">bindBlur</span>=<span class="hljs-string">"onBlur"</span> <span class="hljs-attr">bindConfirm</span>=<span class="hljs-string">"onConfirm"</span> <span class="hljs-attr">max-lines</span>=<span class="hljs-string">"3"</span> <span class="hljs-attr">border-width</span>=<span class="hljs-string">"1rpx"</span> <span class="hljs-attr">border-style</span>=<span class="hljs-string">"solid"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"focusState"</span>: <span class="hljs-string">"未获取焦点"</span>,
  <span class="hljs-attr">"textCount"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">"confirmCount"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">"inputValue"</span>: <span class="hljs-string">""</span>
}
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">/**textarea.js**/</span>
<span class="hljs-keyword">var</span> eventinput;

page({
  <span class="hljs-attr">onReady</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    eventinput = vn.dom.getElementById(<span class="hljs-string">'eventText'</span>);
  },
  <span class="hljs-attr">onInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
    <span class="hljs-keyword">var</span> text = params.event.value;
    vn.data.update(<span class="hljs-string">'inputValue'</span>, text);
  },
  <span class="hljs-attr">onFocus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
    vn.data.update(<span class="hljs-string">'focusState'</span>, <span class="hljs-string">'获取焦点'</span>);
  },
  <span class="hljs-attr">onBlur</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
    vn.data.update(<span class="hljs-string">'focusState'</span>, <span class="hljs-string">'未获取焦点'</span>);
  },
  <span class="hljs-attr">onConfirm</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
    confirmCount = vn.data.query(<span class="hljs-string">'confirmCount'</span>);
    confirmCount += <span class="hljs-number">1</span>;
    vn.data.update(<span class="hljs-string">'confirmCount'</span>, confirmCount);
  }
});
</code></pre>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>Property</td><td>font-size</td><td>rpx pt</td><td>手机系统默认</td><td>文本 size，只能是整型</td></tr>
<tr><td>Property</td><td>font-style</td><td>Enum</td><td>normal</td><td>normal/bold/italic/bold_italic</td></tr>
<tr><td>Property</td><td>font-family</td><td>String</td><td>系统默认</td><td>字体集</td></tr>
<tr><td>Property</td><td>color</td><td>color</td><td>#000000FF</td><td>取值格式为#RGBA</td></tr>
<tr><td>Property</td><td>text-align</td><td>Enum(可组合)</td><td>left</td><td>left/right/center</td></tr>
<tr><td>Property</td><td>max-lines</td><td>Integer</td><td>0</td><td>0代表不限行数</td></tr>
<tr><td>Property</td><td>input-type</td><td>Enum</td><td>text</td><td>text(文字)/number(整数)/digit(小数)</td></tr>
<tr><td>Property</td><td>placeholder</td><td>String</td><td></td><td>当没有文字输入时的提示文案</td></tr>
<tr><td>Property</td><td>placeholder-color</td><td>color</td><td>#888888FF</td></tr>
<tr><td>EventHandler</td><td>bindinput</td><td>String function(Object params)</td><td></td><td>当键盘输入时，触发input事件，params.event = {value: &quot;文本&quot;, cursor: 1}，处理函数可以直接 return 一个字符串，将替换输入框的内容。value 为事件发生时文本框的内容，cursor为光标所在的位置</td></tr>
<tr><td>EventHandler</td><td>bindconfirm</td><td>Boolean function(Object params)</td><td></td><td>点击完成按钮时触发，params.event.value 为事件发生时文本框的内容，返回 true 表示按下完成按钮时不收起键盘，返回 false 表示收起键盘，默认为 false。注，在安卓上可能受到其他特性的影响导致键盘不收起，比如当指定 confirmType 为 Next 时，会聚焦到下一个输入框，此时键盘没有收起。</td></tr>
<tr><td>EventHandler</td><td>bindfocus</td><td>function(Object params)</td><td></td><td>输入框得到输入焦点时触发，params.event.value 为事件发生时文本框的内容</td></tr>
<tr><td>EventHandler</td><td>bindblur</td><td>function(Object params)</td><td></td><td>输入框失去焦点时触发，params.event.value 为事件发生时文本框的内容</td></tr>
<tr><td>Method</td><td>Integer getCursorStart()</td><td></td><td></td><td>当前输入框的光标开始位置</td></tr>
<tr><td>Method</td><td>Integer getCursorEnd()</td><td></td><td></td><td>当前输入框的光标结束位置</td></tr>
<tr><td>Method</td><td>String getValue()</td><td></td><td></td><td>当前输入框的文本</td></tr>
<tr><td>Method</td><td>Boolean hasFocus()</td><td></td><td></td><td>当前输入框是否获取了焦点</td></tr>
<tr><td>Method</td><td>void setCursorRange(Integer start, Integer end)</td><td></td><td></td><td>设置当前输入框光标起始和结束位置</td></tr>
<tr><td>Method</td><td>void setCursorStart(Integer start)</td><td></td><td></td><td>设置当前输入框光标起始位置</td></tr>
<tr><td>Method</td><td>void setFocus(Boolean focus)</td><td></td><td></td><td>设置当前输入框的焦点属性</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="list"></a><a href="#list" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>list</h2>
<ul>
<li><code>&lt;list&gt;</code> 组件是提供列表功能的核心组件。非常适合用于长列表的展示</li>
<li>使用方法:
<ul>
<li><code>&lt;list&gt;</code> 标签使用 <code>vn:for</code> 属性和胡子语法绑定到数组类型的数据</li>
<li>默认情况下，数组的当前项下标变量名为 index，可以通过 <code>vn:for-index</code> 属性修改该变量名，同样的 <code>vn:for-item</code> 可以修改指定数组当前元素的变量名，和 for 语句定义是一样的</li>
<li>在 <code>&lt;list&gt;</code> 标签内使用若干个 <code>&lt;cell&gt;</code> 标签来定义UI模板。每个 <code>&lt;cell&gt;</code> 代表着一种UI模板。</li>
<li><code>&lt;list&gt;</code> 标签的 <code>vn:switch</code> 属性，用于定义UI模板和数据之间的关联关系。定义数组元素中指明 CellType 的字段名，它的默认值为 &quot;case&quot;</li>
<li><code>&lt;cell&gt;</code> 的 <code>fixedCellSize</code> 的属性，标识该类型的CELL的尺寸是否是固定不变的。如果是 true，则该类型的CELL的高度或宽度一旦计算完成后就不再随着内容的变化而变化，该值默认是 true。用于优化 iOS 的列表性能，在 Android 上被忽略</li>
<li>每个 <code>&lt;cell&gt;</code> 标签内应都有 <code>vn:case</code> 属性值用于指明 CellType</li>
<li><code>&lt;cell&gt;</code> 内的页面布局通过胡子语法，访问数组 item 里的属性作为数据填充</li>
<li>可为其中一个 <code>&lt;cell&gt;</code> 标签设置 <code>vn:default</code> 属性，表示这个Cell是默认CellType，当数据中的ViewType找不到匹配的Cell时，会展示这种Cell。</li>
<li><code>&lt;list&gt;</code> 标签可使用 <code>&lt;header&gt;</code> 子标签作为下拉刷新的头部显示的视图。这个标签不能使用当前的 item 访问数据。</li>
<li><code>&lt;list&gt;</code> 标签可使用 <code>&lt;footer&gt;</code> or <code>&lt;pull-footer&gt;</code> 子标签作为上拉刷新的尾部显示的视图。这个标签不能使用当前的 item 访问数据。</li>
</ul></li>
</ul>
<p><strong>注意：如果同一个类型的 Cell，它们的宽度或高度不是始终固定的话，请添加 fixedCellSize=&quot;false&quot;，否则 iOS 系统会表现异常</strong></p>
<p><strong>注意：list 的 padding 属性和 header/footer 目前会冲突，尽量避免一起使用</strong></p>
<ul>
<li>代码示例如下：</li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--list.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">list</span> <span class="hljs-attr">direction</span>=<span class="hljs-string">"column"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">vn:for</span>=<span class="hljs-string">"{{listData}}"</span> <span class="hljs-attr">vn:switch</span>=<span class="hljs-string">"cellType"</span> <span class="hljs-attr">bindItemTap</span>=<span class="hljs-string">"onItemClick"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">cell</span> <span class="hljs-attr">vn:case</span>=<span class="hljs-string">"text"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"50rpx"</span>&gt;</span>{{index}}: {{item.text}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">cell</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">cell</span> <span class="hljs-attr">vn:case</span>=<span class="hljs-string">"image"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">flex-direction</span>=<span class="hljs-string">"row"</span> <span class="hljs-attr">justify-content</span>=<span class="hljs-string">"space-between"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"45%"</span> <span class="hljs-attr">aspect-ratio</span>=<span class="hljs-string">"1.5"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{item.url}}"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"45%"</span> <span class="hljs-attr">aspect-ratio</span>=<span class="hljs-string">"1.5"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{item.url}}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">cell</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">cell</span> <span class="hljs-attr">vn:case</span>=<span class="hljs-string">"default"</span> <span class="hljs-attr">vn:default</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>Unknown Cell Type<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">cell</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span>
</code></pre>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"listData"</span>: [
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"this is first text"</span>
    },
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"image"</span>,
      <span class="hljs-attr">"url"</span>: <span class="hljs-string">"http://puui.qpic.cn/tv/0/11536175_680382/0"</span>
    },
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"this is second text"</span>
    },
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"image"</span>,
      <span class="hljs-attr">"url"</span>: <span class="hljs-string">"http://puui.qpic.cn/tv/0/11522707_330185/0"</span>
    }
  ]
}
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">/**list.js**/</span>
page({
    <span class="hljs-attr">onItemClick</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">params</span>) </span>{
        <span class="hljs-keyword">var</span> position = params.event.position;
        <span class="hljs-keyword">var</span> path = <span class="hljs-string">'listData['</span> + position + <span class="hljs-string">'].cellType'</span>; 
        <span class="hljs-keyword">var</span> curType = vn.data.query(path);
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"被点击Item的type为："</span> + curType);
    }
});
</code></pre>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>Property</td><td>vn:for</td><td>胡子语句</td><td></td><td>数据源，必填项</td></tr>
<tr><td>Property</td><td>vn:for-index</td><td>String</td><td>&quot;index&quot;</td></tr>
<tr><td>Property</td><td>vn:for-item</td><td>String</td><td>&quot;item&quot;</td></tr>
<tr><td>Property</td><td>vn:switch</td><td>String</td><td>&quot;case&quot;</td></tr>
<tr><td>Property</td><td>direction</td><td>Enum</td><td>column</td><td>column/row，滚动方向</td></tr>
<tr><td>EventHandler</td><td>bindItemTap</td><td>function(Object params)</td><td></td><td>列表 Item 点击，位置参数为 params.event.position</td></tr>
<tr><td>EventHandler</td><td>bindItemLoad</td><td>function(Object params)</td><td></td><td>列表 Item 与数据绑定时回调，在Item重用时还会回调。params.event = { position:位置, cell:cell节点 <em>(since 0.5)</em> } 注：此时cell节点还未上屏，对它的操作可能返回非预期的结果。</td></tr>
<tr><td>EventHandler</td><td>bindItemAttach</td><td>function(Object params)</td><td></td><td>列表 Item 上屏时回调。params.event = { position:位置, cell:cell节点 <em>(since 0.5)</em> }</td></tr>
<tr><td>EventHandler</td><td>bindItemDetach</td><td>function(Object params)</td><td></td><td>列表 Item 下屏时回调。params.event = { position:位置, cell:cell节点 <em>(since 0.5)</em> } 注：此时cell节点已经下屏，对它的操作可能返回非预期的结果。</td></tr>
<tr><td>EventHandler</td><td>bindHeaderRefreshing</td><td>function(Object params)</td><td></td><td>列表发生了下拉刷新</td></tr>
<tr><td>EventHandler</td><td>bindFooterRefreshing</td><td>function(Object params)</td><td></td><td>列表发生了上拉加载</td></tr>
<tr><td>EventHandler</td><td>bindScroll</td><td>function(Object params)</td><td></td><td>列表滚动，params.event = { deltaX : 0, deltaY : 0 }; deltaX 和 deltaY（正数为下滑，负数为上滑）</td></tr>
<tr><td>EventHandler</td><td>bindScrollStateChange</td><td>function(Object params)</td><td></td><td>列表滚动状态切换，新状态为 params.event.newState。取值说明： 0:空闲;1:拖拽;2:滑动;</td></tr>
<tr><td>Method</td><td>void scrollToPosition(Integer position, Integer mode)</td><td></td><td></td><td>list滚动到指定的位置，position 代表 cell 的下标，从0开始。mode取值为，0:默认，以最短距离滚动到可视区域；1：滚动到可视区域的中间；2：滚动到可视区域的顶部</td></tr>
<tr><td>Method</td><td>void smoothScrollToPosition(Integer position, Integer mode)</td><td></td><td></td><td>有动画的滚动到指定的位置。mode取值为，0:默认，以最短距离滚动到可视区域；1：滚动到可视区域的中间；2：滚动到可视区域的顶部</td></tr>
<tr><td>Method</td><td>void setFooterRefreshingEnabled(Boolean enable)</td><td></td><td></td><td>是否允许上拉加载更多</td></tr>
<tr><td>Method</td><td>void setHeaderRefreshingEnabled(Boolean enable)</td><td></td><td></td><td>是否允许下拉刷新</td></tr>
<tr><td>Method</td><td>void setHeaderRefreshing(Boolean enable)</td><td></td><td></td><td>下拉刷新是否开始，如果已经开始刷新可以靠这个值结束刷新，若果没有刷新也可以通过代码触发，前提是setHeaderRefreshingEnabled(true)</td></tr>
<tr><td>Method</td><td>void setFooterRefreshing(Boolean enable)</td><td></td><td></td><td>上拉刷新是否开始，如果已经开始刷新可以靠这个值结束刷新，若果没有刷新也可以通过代码触发，前提是setFooterRefreshingEnabled(true)</td></tr>
<tr><td>Method</td><td>void invalidateLayout()</td><td></td><td></td><td>使 List 布局失效， 会导致 list 重新刷新布局，计算每个 cell 的宽高，只对 iOS 平台生效</td></tr>
<tr><td>Method</td><td>Float getScrollOffset()</td><td></td><td></td><td>获取当前的偏移，单位为rpx</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="header-footer"></a><a href="#header-footer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>header &amp; footer</h2>
<h3><a class="anchor" aria-hidden="true" id="header"></a><a href="#header" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>header</h3>
<p>header 主要用于实现下拉刷新，目前只能作为 list 的子控件</p>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>EventHandler</td><td>bindHeaderStateChange</td><td>function(Object params)</td><td></td><td>当下拉刷新状态发生变化时回调。params.event = {state: 0, isAutomatic: true, maxOffset: 20}; <br> state 0:空闲;1:拖拽;2:松开;3:刷新中;4:刷新完成; <br> isAutomatic 是否是 js 调用 <br> maxOffset 达到下拉刷新的偏移量</td></tr>
<tr><td>EventHandler</td><td>bindHeaderMove</td><td>function(Object params)</td><td></td><td>当下拉刷新视图发生移动时回调。params.event = {hasRefreshed: false, isAutomatic: false, offset: 0} <br> hasRefreshed 是否已经触发刷新 <br> isAutomatic 是否是 js 调用 <br> offset 当前下拉的偏移（正数，下拉越多，绝对值越大）</td></tr>
</tbody>
</table>
<ul>
<li>代码示例如下：</li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--listHeaderFooter.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">list</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"mainList"</span> <span class="hljs-attr">vn:for</span>=<span class="hljs-string">"{{listData}}"</span> <span class="hljs-attr">vn:switch</span>=<span class="hljs-string">"cellType"</span> <span class="hljs-attr">bindHeaderRefreshing</span>=<span class="hljs-string">"onHeaderRefreshing"</span> &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"listHeader"</span> <span class="hljs-attr">bindHeaderStateChange</span>=<span class="hljs-string">"onHeaderStateChange"</span> <span class="hljs-attr">bindHeaderMove</span>=<span class="hljs-string">"onHeaderMove"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"headerText"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">cell</span> <span class="hljs-attr">vn:case</span>=<span class="hljs-string">"text"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{index}}: {{item.text}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">cell</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span>
</code></pre>
<pre><code class="hljs css language-css"><span class="hljs-comment">/** listHeaderFooter.vnss **/</span>
<span class="hljs-selector-id">#mainList</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
    <span class="hljs-attribute">direction</span>: column;
}

<span class="hljs-selector-tag">text</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40</span>rpx;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>:<span class="hljs-number">120</span>rpx;
}

<span class="hljs-selector-id">#headerText</span>, <span class="hljs-selector-id">#footerText</span> {
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">background-color</span>: gray;
}

<span class="hljs-selector-class">.listHeader</span>, <span class="hljs-selector-class">.listFooter</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100</span>rpx;
    <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">align-items</span>: center;
}
</code></pre>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"listData"</span>: [
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"this is a text"</span>
    },
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"this is a text"</span>
    },
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"this is a text"</span>
    }
  ]
}
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">/**listHeaderFooter.js**/</span>
page({     
    <span class="hljs-attr">onHeaderRefreshing</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'onHeaderRefresh'</span>);
        <span class="hljs-keyword">var</span> timerId = <span class="hljs-built_in">window</span>.setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">let</span> mainList = params.target;
            mainList.setHeaderRefreshing(<span class="hljs-literal">false</span>);
            <span class="hljs-built_in">window</span>.clearInterval(timerId);
        },
        <span class="hljs-number">1000</span>);
    },

    <span class="hljs-attr">onHeaderStateChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
        headerChildren = params.target.getChildElements();
        <span class="hljs-keyword">switch</span> (params.event.state) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
            headerChildren[<span class="hljs-number">0</span>].setProperty(<span class="hljs-string">"content"</span>, <span class="hljs-string">"空闲"</span>);
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
            headerChildren[<span class="hljs-number">0</span>].setProperty(<span class="hljs-string">"content"</span>, <span class="hljs-string">"拖拽中"</span>);
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
            headerChildren[<span class="hljs-number">0</span>].setProperty(<span class="hljs-string">"content"</span>, <span class="hljs-string">"松手"</span>);
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
            headerChildren[<span class="hljs-number">0</span>].setProperty(<span class="hljs-string">"content"</span>, <span class="hljs-string">"刷新中"</span>);
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
            headerChildren[<span class="hljs-number">0</span>].setProperty(<span class="hljs-string">"content"</span>, <span class="hljs-string">"刷新完成"</span>);
            <span class="hljs-keyword">break</span>;
        }
    },

    <span class="hljs-attr">onHeaderMove</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"offset "</span> + params.event.offset);
    }
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="footer"></a><a href="#footer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>footer</h3>
<p>footer 主要用于实现上拉时自动加载更多，目前只能作为 list 的子控件</p>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>EventHandler</td><td>bindFooterStateChange</td><td>function(Object params)</td><td></td><td>当上拉刷新状态发生变化时 params.event.state 代表了状态。<br> state 0:空闲; 1:刷新中; 2:没有更多数据了</td></tr>
</tbody>
</table>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">list</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"mainList"</span> <span class="hljs-attr">vn:for</span>=<span class="hljs-string">"{{listData}}"</span> <span class="hljs-attr">vn:switch</span>=<span class="hljs-string">"cellType"</span> <span class="hljs-attr">bindFooterRefreshing</span>=<span class="hljs-string">"onFooterRefreshing"</span> &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">cell</span> <span class="hljs-attr">vn:case</span>=<span class="hljs-string">"text"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{index}}: {{item.text}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">cell</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">footer</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"listFooter"</span> <span class="hljs-attr">bindFooterStateChange</span>=<span class="hljs-string">"onFooterStateChange"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"footerText"</span>&gt;</span>空闲<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span>
</code></pre>
<pre><code class="hljs css language-css"><span class="hljs-selector-id">#mainList</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
    <span class="hljs-attribute">direction</span>: column;
}

<span class="hljs-selector-tag">text</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40</span>rpx;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>:<span class="hljs-number">120</span>rpx;
}

<span class="hljs-selector-id">#headerText</span>, <span class="hljs-selector-id">#footerText</span> {
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">background-color</span>: gray;
}

<span class="hljs-selector-class">.listHeader</span>, <span class="hljs-selector-class">.listFooter</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100</span>rpx;
    <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">align-items</span>: center;
}
</code></pre>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"listData"</span>: [
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"this is a text"</span>
    },
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"this is a text"</span>
    },
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"this is a text"</span>
    },
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"this is a text"</span>
    }
  ]
}
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-keyword">var</span> moreData = <span class="hljs-literal">true</span>;
page({     
    <span class="hljs-attr">onFooterRefreshing</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'onFooterRefresh'</span>);
        <span class="hljs-keyword">var</span> timerId = <span class="hljs-built_in">window</span>.setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">let</span> mainList = params.target;
            <span class="hljs-keyword">if</span> (moreData)
            {
                <span class="hljs-keyword">var</span> datas = vn.data.query(<span class="hljs-string">"listData"</span>);
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
                    <span class="hljs-keyword">var</span> newData = {
                      <span class="hljs-string">"cellType"</span>: <span class="hljs-string">"text"</span>,
                      <span class="hljs-string">"text"</span>: <span class="hljs-string">"this is a text"</span>
                    };
                    datas.push(newData);
                }
                vn.data.update(<span class="hljs-string">"listData"</span>, datas);
                
                mainList.setFooterRefreshing(<span class="hljs-literal">false</span>);
                moreData = <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">else</span>
            {
                mainList.setFooterRefreshingEnabled(<span class="hljs-literal">false</span>);  
            }
            <span class="hljs-built_in">window</span>.clearInterval(timerId);
        },
        <span class="hljs-number">1000</span>);
    },

    <span class="hljs-attr">onFooterStateChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
        footerChildren = params.target.getChildElements();
        <span class="hljs-keyword">switch</span> (params.event.state) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
            footerChildren[<span class="hljs-number">0</span>].setProperty(<span class="hljs-string">"content"</span>, <span class="hljs-string">"空闲"</span>);
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
            footerChildren[<span class="hljs-number">0</span>].setProperty(<span class="hljs-string">"content"</span>, <span class="hljs-string">"刷新中"</span>);
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
            footerChildren[<span class="hljs-number">0</span>].setProperty(<span class="hljs-string">"content"</span>, <span class="hljs-string">"没有更多数据了"</span>);
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
        }
    }
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="pull-footer"></a><a href="#pull-footer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>pull-footer</h3>
<p>pull-footer 主要用于实现上拉刷新，目前只能作为 list 的子控件。<strong>注意，其功能和接口与 header 完全对称。</strong></p>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>EventHandler</td><td>bindFooterStateChange</td><td>function(Object params)</td><td></td><td>当上拉刷新状态发生变化时回调。params.event = {state: 0, isAutomatic: true, maxOffset: 20}; <br> state 0:空闲;1:拖拽;2:松开;3:刷新中;4:刷新完成; <br> isAutomatic 是否是 js 调用 <br> maxOffset 达到下拉刷新的偏移量</td></tr>
<tr><td>EventHandler</td><td>bindFooterMove</td><td>function(Object params)</td><td></td><td>当上拉刷新视图发生移动时回调。params.event = {hasRefreshed: false, isAutomatic: false, offset: 0} <br> hasRefreshed 是否已经触发刷新 <br> isAutomatic 是否是 js 调用 <br> offset 当前上拉的偏移（正数，下拉越多，绝对值越大）</td></tr>
</tbody>
</table>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">list</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"mainList"</span> <span class="hljs-attr">vn:for</span>=<span class="hljs-string">"{{listData}}"</span> <span class="hljs-attr">vn:switch</span>=<span class="hljs-string">"cellType"</span> <span class="hljs-attr">bindFooterRefreshing</span>=<span class="hljs-string">"onFooterRefreshing"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">cell</span> <span class="hljs-attr">vn:case</span>=<span class="hljs-string">"text"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{index}}: {{item.text}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">cell</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">pull-footer</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"listFooter"</span> <span class="hljs-attr">bindFooterStateChange</span>=<span class="hljs-string">"onFooterStateChange"</span> <span class="hljs-attr">bindFooterMove</span>=<span class="hljs-string">"onFooterMove"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"footerText"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">pull-footer</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span>
</code></pre>
<pre><code class="hljs css language-css"><span class="hljs-selector-id">#mainList</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
    <span class="hljs-attribute">direction</span>: column;
}

<span class="hljs-selector-tag">text</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40</span>rpx;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>:<span class="hljs-number">120</span>rpx;
}

<span class="hljs-selector-id">#headerText</span>, <span class="hljs-selector-id">#footerText</span> {
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">background-color</span>: gray;
}

<span class="hljs-selector-class">.listHeader</span>, <span class="hljs-selector-class">.listFooter</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100</span>rpx;
    <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">align-items</span>: center;
}
</code></pre>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"listData"</span>: [
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"this is a text"</span>
    },
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"this is a text"</span>
    },
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"this is a text"</span>
    },
    {
      <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-attr">"text"</span>: <span class="hljs-string">"this is a text"</span>
    }
  ]
}
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-keyword">var</span> moreData = <span class="hljs-literal">true</span>;
page({     
    <span class="hljs-attr">onFooterRefreshing</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'onFooterRefresh'</span>);
        <span class="hljs-keyword">var</span> timerId = <span class="hljs-built_in">window</span>.setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">let</span> mainList = params.target;
            <span class="hljs-keyword">if</span> (moreData)
            {
                <span class="hljs-keyword">var</span> datas = vn.data.query(<span class="hljs-string">"listData"</span>);
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
                    <span class="hljs-keyword">var</span> newData = {
                      <span class="hljs-string">"cellType"</span>: <span class="hljs-string">"text"</span>,
                      <span class="hljs-string">"text"</span>: <span class="hljs-string">"this is a text"</span>
                    };
                    datas.push(newData);
                }
                vn.data.update(<span class="hljs-string">"listData"</span>, datas);
                moreData = <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">else</span>
            {
                
            }
            mainList.setFooterRefreshing(<span class="hljs-literal">false</span>);
            <span class="hljs-built_in">window</span>.clearInterval(timerId);
        },
        <span class="hljs-number">1000</span>);
    },

    <span class="hljs-attr">onFooterStateChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
        footerChildren = params.target.getChildElements();
        <span class="hljs-keyword">switch</span> (params.event.state) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
            footerChildren[<span class="hljs-number">0</span>].setProperty(<span class="hljs-string">"content"</span>, <span class="hljs-string">"空闲"</span>);
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
            footerChildren[<span class="hljs-number">0</span>].setProperty(<span class="hljs-string">"content"</span>, <span class="hljs-string">"拖拽中"</span>);
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
            footerChildren[<span class="hljs-number">0</span>].setProperty(<span class="hljs-string">"content"</span>, <span class="hljs-string">"松开"</span>);
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
            footerChildren[<span class="hljs-number">0</span>].setProperty(<span class="hljs-string">"content"</span>, <span class="hljs-string">"刷新中"</span>);
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
            footerChildren[<span class="hljs-number">0</span>].setProperty(<span class="hljs-string">"content"</span>, <span class="hljs-string">"刷新完成"</span>);
            <span class="hljs-keyword">break</span>;
        }
    },

    <span class="hljs-attr">onFooterMove</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"offset "</span> + params.event.offset);
    }
});
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="scroll-view"></a><a href="#scroll-view" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>scroll-view</h2>
<p>这是一个可滚动的容器类。支持横向或纵向滚动。</p>
<ul>
<li>代码示例如下：</li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--scroll.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">scroll-view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">scroll-view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"scroll"</span> <span class="hljs-attr">flex-direction</span>=<span class="hljs-string">"column"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">background-color</span>=<span class="hljs-string">"{{item.background}}"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"column-item"</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"{{item.color}}"</span> <span class="hljs-attr">vn:for</span>=<span class="hljs-string">"{{views}}"</span>&gt;</span>
            {{item.text}}
        <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">scroll-view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">scroll-view</span>&gt;</span>
</code></pre>
<pre><code class="hljs css language-css"><span class="hljs-comment">/** scroll.vnss **/</span>
<span class="hljs-selector-tag">text</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30</span>rpx;
    <span class="hljs-attribute">color</span>: grey;
}

<span class="hljs-selector-class">.container</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">align-items</span>: center;
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8f8f8</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">18</span>rpx;
}

<span class="hljs-selector-class">.column-item</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">500</span>rpx;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">280</span>rpx;
    <span class="hljs-attribute">text-align</span>: center;
}

<span class="hljs-selector-class">.scroll</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">500</span>rpx;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">300</span>rpx;
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">50</span>rpx;
}
</code></pre>
<pre><code class="hljs css language-json">{
    <span class="hljs-attr">"views"</span>: [
        {
            <span class="hljs-attr">"text"</span>: <span class="hljs-string">"A"</span>,
            <span class="hljs-attr">"color"</span>: <span class="hljs-string">"white"</span>,
            <span class="hljs-attr">"background"</span>: <span class="hljs-string">"#1AAD19"</span>
        },

        {
            <span class="hljs-attr">"text"</span>: <span class="hljs-string">"B"</span>,
            <span class="hljs-attr">"color"</span>: <span class="hljs-string">"white"</span>,
            <span class="hljs-attr">"background"</span>: <span class="hljs-string">"#2782D8"</span>
        },

        {
            <span class="hljs-attr">"text"</span>: <span class="hljs-string">"C"</span>,
            <span class="hljs-attr">"color"</span>: <span class="hljs-string">"black"</span>,
            <span class="hljs-attr">"background"</span>: <span class="hljs-string">"#F1F1F1"</span>
        }
    ]
}
</code></pre>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>Property</td><td>direction</td><td>Enum</td><td>column</td><td>column/row</td></tr>
<tr><td>Method</td><td>scrollTo(Float delta, Boolean animation)</td><td></td><td></td><td>滚动到指定位置，单位为rpx；参数 animation 指定是否带动画效果</td></tr>
<tr><td>Method</td><td>Float getScrollOffset()</td><td></td><td></td><td>获取当前的偏移，单位为rpx</td></tr>
<tr><td>EventHandler</td><td>bindScroll</td><td>function(Object params)</td><td></td><td>滚动时触发，params.event = {deltaX: 0, deltaY: 20}. deltaX 和 deltaY 为滚动的偏移量，单位为px</td></tr>
<tr><td>EventHandler</td><td>bindScrollStateChange</td><td>function(Object params)</td><td></td><td>回调 scroll-view 的滚动状态改变。params.event.newState 为当前状态。取值说明： 0:空闲;1:拖拽;2:滑动;</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="view-pager"></a><a href="#view-pager" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>view-pager</h2>
<p>这是一个显示多页面的容器类，通过滑动切换页面，支持自动播放和无限滑动。</p>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--viewPager.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"wrapper"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view-pager</span> <span class="hljs-attr">vn:for</span>=<span class="hljs-string">"{{views}}"</span> <span class="hljs-attr">bindPageChange</span>=<span class="hljs-string">"onPageChange"</span> <span class="hljs-attr">vn:switch</span>=<span class="hljs-string">"cellType"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">cell</span> <span class="hljs-attr">vn:case</span>=<span class="hljs-string">"text"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">background-color</span>=<span class="hljs-string">"{{item.background}}"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"page-item"</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"{{item.color}}"</span>&gt;</span>
                    {{item.text}}
                <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">cell</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view-pager</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<pre><code class="hljs css language-json">{
    <span class="hljs-attr">"views"</span>: [
        {
            <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-attr">"text"</span>: <span class="hljs-string">"A"</span>,
            <span class="hljs-attr">"color"</span>: <span class="hljs-string">"white"</span>,
            <span class="hljs-attr">"background"</span>: <span class="hljs-string">"#1AAD19"</span>
        },

        {
            <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-attr">"text"</span>: <span class="hljs-string">"B"</span>,
            <span class="hljs-attr">"color"</span>: <span class="hljs-string">"white"</span>,
            <span class="hljs-attr">"background"</span>: <span class="hljs-string">"#2782D8"</span>
        },

        {
            <span class="hljs-attr">"cellType"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-attr">"text"</span>: <span class="hljs-string">"C"</span>,
            <span class="hljs-attr">"color"</span>: <span class="hljs-string">"black"</span>,
            <span class="hljs-attr">"background"</span>: <span class="hljs-string">"#F1F1F1"</span>
        }
    ]
}
</code></pre>
<pre><code class="hljs css language-css"><span class="hljs-comment">/** viewPager.vnss **/</span>
<span class="hljs-selector-tag">text</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30</span>rpx;
    <span class="hljs-attribute">color</span>: grey;
}

<span class="hljs-selector-id">#wrapper</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">380</span>rpx;
}

<span class="hljs-selector-class">.container</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">align-items</span>: center;
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8f8f8</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">18</span>rpx;
}

<span class="hljs-selector-class">.page-item</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">text-align</span>: center;
}

<span class="hljs-selector-tag">view-pager</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
}
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">/**viewPager.js**/</span>
page({     
    <span class="hljs-attr">onPageChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">param</span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"curIndex: "</span> + param.event.pageIndex);
    }
});
</code></pre>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>Property</td><td>vn:for</td><td>胡子语句</td><td></td><td>数据源，必填项</td></tr>
<tr><td>Property</td><td>vn:for-index</td><td>String</td><td>&quot;index&quot;</td><td>数组下标</td></tr>
<tr><td>Property</td><td>vn:for-item</td><td>String</td><td>&quot;item&quot;</td><td>数组项</td></tr>
<tr><td>Property</td><td>vn:switch</td><td>String</td><td>&quot;case&quot;</td><td>数组项类型</td></tr>
<tr><td>Property</td><td>page-gap</td><td>rpx pt</td><td>0rpx</td><td>分页间距</td></tr>
<tr><td>Property</td><td>previous-margin</td><td>rpx pt</td><td>0rpx</td><td>前边距，可用于露出前一页的一小部分</td></tr>
<tr><td>Property</td><td>next-margin</td><td>rpx pt</td><td>0rpx</td><td>后边距，可用于露出下一页的一小部分</td></tr>
<tr><td>Property</td><td>circular</td><td>Boolean</td><td>false</td><td>是否开启无限滚动</td></tr>
<tr><td>Property</td><td>autoplay</td><td>Boolean</td><td>false</td><td>是否开启自动滚动</td></tr>
<tr><td>Property</td><td>interval</td><td>Number</td><td>5000</td><td>自动滚动的间隔时间，单位：毫秒</td></tr>
<tr><td>EventHandler</td><td>bindScroll</td><td>function(Float delta, Float offset, Float offsetPercent, Integer scrollState, Integer pageIndex)</td><td></td><td>滚动时触发， delta, offset, offsetPercent, scrollState, pageIndex</td></tr>
<tr><td>EventHandler</td><td>bindScrollStateChange</td><td>function(int scrollState)</td><td></td><td>0:空闲;1:拖拽;2:滑动</td></tr>
<tr><td>EventHandler</td><td>bindPageChange</td><td>function(int pageIndex)</td><td></td><td>滑动停止时指向的分页，pageIndex</td></tr>
<tr><td>Method</td><td>void setPageIndex(Integer index)</td><td>Integer</td><td></td><td>设置当前的分页编号</td></tr>
<tr><td>Method</td><td>Integer getPageIndex()</td><td></td><td></td><td>获取当前的分页编号</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="video"></a><a href="#video" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>video</h2>
<p>video组件用于播放音视频资源。</p>
<ul>
<li>代码示例如下：</li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-comment">&lt;!--video.vnml--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"http://gslb.miaopai.com/stream/vzQz~nbsBvpafyxhQF2OCcQVZbv~hP3I.mp4"</span> <span class="hljs-attr">autoplay</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">poster</span>=<span class="hljs-string">"http://puui.qpic.cn/qqvideo_ori/0/n0529gbp74d_496_280/0"</span> /&gt;</span>
</code></pre>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>Property</td><td>src</td><td>String</td><td></td><td>视频资源地址</td></tr>
<tr><td>Property</td><td>poster</td><td>String</td><td></td><td>视频海报</td></tr>
<tr><td>Property</td><td>controls</td><td>Boolean</td><td>true</td><td>是否显示自带控件</td></tr>
<tr><td>Property</td><td>show-fullscreen-btn</td><td>Boolean</td><td>true</td><td>是否显示全屏按钮，controls为false时不生效</td></tr>
<tr><td>Property</td><td>show-progress</td><td>Boolean</td><td>true</td><td>是否显示进度条，controls为false时不生效</td></tr>
<tr><td>Property</td><td>objectfit</td><td>Enum</td><td>contain</td><td>contain/fill/cover</td></tr>
<tr><td>Property</td><td>initial-time</td><td>Integer</td><td>0</td><td>指定视频初始播放位置，时长单位为毫秒</td></tr>
<tr><td>Property</td><td>autoplay</td><td>Boolean</td><td>false</td><td>是否自动播放</td></tr>
<tr><td>Property</td><td>loop</td><td>Boolean</td><td>false</td><td>是否循环播放</td></tr>
<tr><td>Property</td><td>muted</td><td>Boolean</td><td>false</td><td>是否无声播放 <em>(since 0.5)</em></td></tr>
<tr><td>EventHandler</td><td>bindPlay</td><td>function()</td><td></td><td>当开始/继续播放时触发play事件</td></tr>
<tr><td>EventHandler</td><td>bindPause</td><td>function()</td><td></td><td>当暂停播放时触发 pause 事件</td></tr>
<tr><td>EventHandler</td><td>bindEnded</td><td>function()</td><td></td><td>当播放到末尾时触发 ended 事件</td></tr>
<tr><td>EventHandler</td><td>bindTimeUpdate</td><td>function(int currentTime, int duration)</td><td></td><td>播放进度变化时触发。触发频率250ms一次，时长单位为毫秒</td></tr>
<tr><td>EventHandler</td><td>bindWaiting</td><td>function()</td><td></td><td>视频出现缓冲时触发</td></tr>
<tr><td>EventHandler</td><td>bindError</td><td>function(int errorCode, String errorInfo)</td><td></td><td>视频播放出错时触发</td></tr>
<tr><td>Method</td><td>Integer getCurrentTime()</td><td></td><td></td><td>获取当前播放位置，时长单位为毫秒</td></tr>
<tr><td>Method</td><td>void seekTo(Integer time)</td><td>Integer</td><td></td><td>从指定毫秒开始播放，时长单位为毫秒</td></tr>
<tr><td>Method</td><td>void preload()</td><td></td><td></td><td>开始预加载视频，如果视频已经加载好则无效</td></tr>
<tr><td>Method</td><td>void start()</td><td></td><td></td><td>从暂停位置继续播放</td></tr>
<tr><td>Method</td><td>void resume()</td><td></td><td></td><td>重头开始播放</td></tr>
<tr><td>Method</td><td>void pause()</td><td></td><td></td><td>暂停</td></tr>
<tr><td>Method</td><td>void stop()</td><td></td><td></td><td>停止播放，并释放资源</td></tr>
<tr><td>Method</td><td>Boolean isPlaying()</td><td></td><td></td><td>是否正在播放</td></tr>
<tr><td>Method</td><td>Integer getDuration()</td><td></td><td></td><td>获取当前播放视频的总长度，时长单位为毫秒。收到play事件以后才能获取准确值。</td></tr>
</tbody>
</table>
<p>其中 objectfit 的有效值为：</p>
<table>
<thead>
<tr><th>值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>fill</td><td>填充。不保持原始的尺寸比例，使视频的宽高完全拉伸至填满 video 元素。</td></tr>
<tr><td>cover</td><td>覆盖。保持原始的尺寸比例，保证内容区域被填满。视频可能不能完整展示。</td></tr>
<tr><td>contain</td><td>包含。保持原始的尺寸比例，保证视频完整展示。部分内容区域可能会空白。</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="camera"></a><a href="#camera" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>camera</h2>
<p>camera 是系统相机控件，可实现拍照和录制视频，同一页面只能插入一个 camera 组件，<code>0.2.0</code> 版本开始支持</p>
<p>iOS 请务必在 Native 侧的 info.plist 中声明相机和麦克风的权限</p>
<ul>
<li>代码示例如下：</li>
</ul>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">scroll-view</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"mainContainer"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">camera</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"camera"</span> <span class="hljs-attr">device-position</span>=<span class="hljs-string">"back"</span>
    <span class="hljs-attr">flash</span>=<span class="hljs-string">"off"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 100%; height: 600rpx"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">camera</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width:100%;height:auto;flex-wrap:wrap"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"takePhoto"</span>&gt;</span>拍照<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"switchCamera"</span>&gt;</span>切换摄像头<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"startRecord"</span>&gt;</span>开始录制视频<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"stopRecord"</span>&gt;</span>停止录制视频<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"openFlash"</span>&gt;</span>闪光灯：打开<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"autoFlash"</span>&gt;</span>闪光灯：自动<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"closeFlash"</span>&gt;</span>闪光灯：关闭<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{src}}"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 100%; height: auto; background-color:gray"</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"center-inside"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">image</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">scroll-view</span>&gt;</span>
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-keyword">var</span> device_position = <span class="hljs-string">"back"</span>;

page({
    <span class="hljs-attr">takePhoto</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> camera = vn.dom.getElementById(<span class="hljs-string">'camera'</span>);
        camera.takePhoto({
            <span class="hljs-string">"complete"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
                vn.data.update(<span class="hljs-string">"src"</span>, res.tempImagePath);
            }
        })
    },


    <span class="hljs-attr">switchCamera</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> camera = vn.dom.getElementById(<span class="hljs-string">'camera'</span>);
        <span class="hljs-keyword">if</span> (device_position == <span class="hljs-string">"back"</span>)
        {
            camera.setProperty(<span class="hljs-string">"device-position"</span>, <span class="hljs-string">"front"</span>);
            device_position = <span class="hljs-string">"front"</span>;
        }
        <span class="hljs-keyword">else</span>
        {
            camera.setProperty(<span class="hljs-string">"device-position"</span>, <span class="hljs-string">"back"</span>);
            device_position = <span class="hljs-string">"back"</span>;
        }
    },

    <span class="hljs-attr">startRecord</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> camera = vn.dom.getElementById(<span class="hljs-string">'camera'</span>);
        camera.startRecord({
            <span class="hljs-string">"onstart"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{ 
                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"onstart result: "</span> + res.error);
            },

            <span class="hljs-string">"onerror"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"onerror result: "</span> + res.error);
            }
        })
    },

    <span class="hljs-attr">stopRecord</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> camera = vn.dom.getElementById(<span class="hljs-string">'camera'</span>);
        camera.stopRecord({
            <span class="hljs-string">"complete"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
                vn.data.update(<span class="hljs-string">"src"</span>, res.tempThumbPath);
                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"video src is: "</span>+res.tempVideoPath);
                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"error is: "</span>+res.error);
            }
        })
    },
    
    <span class="hljs-attr">autoFlash</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> camera = vn.dom.getElementById(<span class="hljs-string">'camera'</span>);
        camera.setProperty(<span class="hljs-string">"flash"</span>, <span class="hljs-string">"auto"</span>);
    },

    <span class="hljs-attr">openFlash</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> camera = vn.dom.getElementById(<span class="hljs-string">'camera'</span>);
        camera.setProperty(<span class="hljs-string">"flash"</span>, <span class="hljs-string">"on"</span>);
    },

    <span class="hljs-attr">closeFlash</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> camera = vn.dom.getElementById(<span class="hljs-string">'camera'</span>);
        camera.setProperty(<span class="hljs-string">"flash"</span>, <span class="hljs-string">"off"</span>);
    }
});
</code></pre>
<pre><code class="hljs css language-css"><span class="hljs-selector-id">#mainContainer</span>{
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">flex-direction</span>: column;
}

<span class="hljs-selector-tag">button</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">220</span>rpx;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">50</span>rpx;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">26</span>rpx;
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">15</span>rpx;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">18</span>rpx;
}
</code></pre>
<table>
<thead>
<tr><th>类型</th><th>属性/事件/方法名</th><th>参数类型</th><th>参数默认值</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>Property</td><td>device-position</td><td>Enum</td><td>back</td><td>前置或后置，值为front, back</td></tr>
<tr><td>Property</td><td>flash</td><td>Enum</td><td>auto</td><td>闪光灯，值为auto, on, off（切换到前置摄像头的时候会自动关闭闪光灯）</td></tr>
<tr><td>Method</td><td>void takePhoto(Object object)</td><td></td><td>见下表</td><td>拍照</td></tr>
<tr><td>Method</td><td>void startRecord(Object object)</td><td></td><td>见下表</td><td>开始录像</td></tr>
<tr><td>Method</td><td>void stopRecord(Object object)</td><td></td><td>见下表</td><td>结束录像</td></tr>
</tbody>
</table>
<ul>
<li><p>takePhoto 的参数说明</p>
<p><strong>object 内的参数说明:</strong></p>
<table>
<thead>
<tr><th>参数</th><th>类型</th><th>必填</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>complete</td><td>Function(Object res)</td><td>是</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr>
</tbody>
</table>
<p><strong>complete 回调函数接收一个 res 对象；它的成员属性如下:</strong></p>
<table>
<thead>
<tr><th>参数</th><th>类型</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>tempImagePath</td><td>String</td><td>照片的临时存储路径，失败时为空</td></tr>
<tr><td>error</td><td>String</td><td>错误信息</td></tr>
</tbody>
</table>
</li>
</ul>
<ul>
<li><p>startRecord 的参数说明</p>
<p><strong>object 内的参数说明:</strong></p>
<table>
<thead>
<tr><th>参数</th><th>类型</th><th>必填</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>onstart</td><td>Function</td><td>否</td><td>视频开始录制的回调，没有参数</td></tr>
<tr><td>onerror</td><td>Function(Object res)</td><td>否</td><td>录制视频过程出错的回调</td></tr>
</tbody>
</table>
<blockquote>
<p>注意，如果接口调用失败（比如没有权限），或者接口调用成功但是录制过程失败（比如空间不足），回调的是 onerror</p>
</blockquote>
<blockquote>
<p>注意，如果已经开始录制，此时进行再次调用 startRecord 或者转换摄像头等异常操作，会回调 onerror 发生异常</p>
</blockquote>
<p><strong>onerror 回调函数接收一个 res 对象；它的成员属性如下:</strong></p>
<table>
<thead>
<tr><th>参数</th><th>类型</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>error</td><td>String</td><td>错误信息</td></tr>
</tbody>
</table>
</li>
<li><p>stopRecord 的参数说明</p>
<p><strong>object 内的参数说明:</strong></p>
<table>
<thead>
<tr><th>参数</th><th>类型</th><th>必填</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>complete</td><td>Function(Object res)</td><td>是</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr>
</tbody>
</table>
<p><strong>complete 回调函数接收一个 res 对象；它的成员属性如下:</strong></p>
<table>
<thead>
<tr><th>参数</th><th>类型</th><th>说明</th></tr>
</thead>
<tbody>
<tr><td>tempThumbPath</td><td>String</td><td>封面图片的临时路径，失败时为空</td></tr>
<tr><td>tempVideoPath</td><td>String</td><td>视频的临时路径，失败时为空</td></tr>
<tr><td>error</td><td>String</td><td>错误信息</td></tr>
</tbody>
</table>
</li>
</ul>
<ul>
<li>error 的错误类型
<ul>
<li><code>CAMERA_PERMISSION_DENIED</code></li>
<li><code>CAMERA_STORAGE_FULL</code></li>
<li><code>CAMERA_BUSY</code></li>
<li>其他系统抛出的错误</li>
</ul></li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-next button" href="/docs/api-js-interfaces"><span>JS API</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#总览">总览</a></li><li><a href="#页面生命周期事件">页面生命周期事件</a></li><li><a href="#通用事件">通用事件</a><ul class="toc-headings"><li><a href="#参数与种类">参数与种类</a></li><li><a href="#捕获与冒泡-since-04">捕获与冒泡 <em>(since 0.4)</em></a></li></ul></li><li><a href="#通用属性">通用属性</a></li><li><a href="#flexbox-布局属性">Flexbox 布局属性</a></li><li><a href="#view">view</a><ul class="toc-headings"><li><a href="#box-shadow-的详细说明">box-shadow 的详细说明</a></li><li><a href="#border-color-的详细说明">border-color 的详细说明</a></li><li><a href="#border-style-的详细说明">border-style 的详细说明</a></li><li><a href="#border-width-border-color-border-style-的说明">border-width &amp; border-color &amp; border-style 的说明</a></li></ul></li><li><a href="#text">text</a></li><li><a href="#button">button</a></li><li><a href="#image">image</a></li><li><a href="#checkbox">checkbox</a></li><li><a href="#input">input</a></li><li><a href="#textarea">textarea</a></li><li><a href="#list">list</a></li><li><a href="#header-footer">header &amp; footer</a><ul class="toc-headings"><li><a href="#header">header</a></li><li><a href="#footer">footer</a></li><li><a href="#pull-footer">pull-footer</a></li></ul></li><li><a href="#scroll-view">scroll-view</a></li><li><a href="#view-pager">view-pager</a></li><li><a href="#video">video</a></li><li><a href="#camera">camera</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/video_native.png" alt="Video Native" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/getting-started-basis.html">Getting Started</a><a href="/docs/en/playground-index.html">Playground</a><a href="/docs/en/api-ui-controls.html">API Reference</a></div><div><h5>Community</h5><a href="/en/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/VideoNative/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2019 Tencent Inc</section></footer></div></body></html>